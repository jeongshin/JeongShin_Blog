<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ì˜¬ë¦¬ë¸Œ ê°œë°œ ì¼ì§€ | JS Blog</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="JeongShin ì˜ ì½”ë”© ë¸”ë¡œê·¸ ğŸ‘¨ğŸ»â€ğŸ’»">
    <meta name="google-site-verification" content="66JKoxw93huqhAdXO3P0K86NJZne5H-M3302YHcwoWI">
    <link rel="preload" href="/JeongShin_Blog/assets/css/0.styles.e3ff9507.css" as="style"><link rel="preload" href="/JeongShin_Blog/assets/js/app.239fa4e5.js" as="script"><link rel="preload" href="/JeongShin_Blog/assets/js/2.f053340d.js" as="script"><link rel="preload" href="/JeongShin_Blog/assets/js/5.6df9c349.js" as="script"><link rel="prefetch" href="/JeongShin_Blog/assets/js/10.5191d3b1.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/11.109ecdd2.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/12.e12dd063.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/13.0cb7044e.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/14.9179569c.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/15.09c20298.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/16.fd217b93.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/17.b7e6033e.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/18.642e7284.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/19.7625868d.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/20.1040f3c5.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/21.455cd970.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/22.6481f925.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/23.7b0c7d4e.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/24.00e242a9.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/3.d987e752.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/4.cbc04601.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/6.7484640f.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/7.63bbad15.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/8.b36a8dcb.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/9.d2ad4e33.js">
    <link rel="stylesheet" href="/JeongShin_Blog/assets/css/0.styles.e3ff9507.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/JeongShin_Blog/" class="home-link router-link-active"><img src="/JeongShin_Blog/images/logo.jpg" alt="JS Blog" class="logo"> <span class="site-name can-hide">JS Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/JeongShin_Blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/JeongShin_Blog/home/" class="nav-link">
  
</a></div><div class="nav-item"><a href="/JeongShin_Blog/aboutme/" class="nav-link">
  About me
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/JeongShin_Blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/JeongShin_Blog/home/" class="nav-link">
  
</a></div><div class="nav-item"><a href="/JeongShin_Blog/aboutme/" class="nav-link">
  About me
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/JeongShin_Blog/guide/" class="sidebar-link">Guide</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/JeongShin_Blog/TIL/" class="sidebar-heading clickable router-link-active open"><span>Today I Learned</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/JeongShin_Blog/TIL/study/" aria-current="page" class="active sidebar-link">ì˜¬ë¦¬ë¸Œ ê°œë°œ ì¼ì§€</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JeongShin_Blog/TIL/study/#custom-event" class="sidebar-link">Custom Event</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/JeongShin_Blog/algorithms/" class="sidebar-heading clickable"><span>Algorithms</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ì˜¬ë¦¬ë¸Œ-ê°œë°œ-ì¼ì§€"><a href="#ì˜¬ë¦¬ë¸Œ-ê°œë°œ-ì¼ì§€" class="header-anchor">#</a> ì˜¬ë¦¬ë¸Œ ê°œë°œ ì¼ì§€</h1> <h2 id="custom-event"><a href="#custom-event" class="header-anchor">#</a> Custom Event</h2> <p>RN í™˜ê²½ì—ì„œ ê°œë°œì„ í•˜ë‹¤ê°€ <code>Custom Event</code> ë¥¼ ë°œìƒì‹œì¼œì•¼ í•˜ëŠ” ìƒí™©ì´ ìƒê²¼ë‹¤.</p> <p>ì¸ìŠ¤íƒ€ê·¸ë¨ê³¼ ê°™ì€ ì•±ì—ì„œ í•˜ë‹¨ íƒ­ì„ ì—¬ëŸ¬ë²ˆ íƒ­í•˜ê±°ë‚˜ ë¡œê³ ë¥¼ ëˆ„ë¥´ëŠ” ê²½ìš° ìŠ¤í¬ë¡¤ì„ ì­‰ ì˜¬ë ¤ì£¼ëŠ” êµ¬í˜„ì„ í•˜ê³  ì‹¶ì—ˆë‹¤.</p> <h3 id="ë¬¸ì œì "><a href="#ë¬¸ì œì " class="header-anchor">#</a> ë¬¸ì œì </h3> <ul><li>í•˜ë‹¨ íƒ­ ì»´í¬ë„ŒíŠ¸ì™€ ë¦¬ìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ì™„ì „íˆ ë¶„ë¦¬ëœ ì»´í¬ë„ŒíŠ¸ì´ê¸° ë•Œë¬¸ì— ì†Œí†µí•  ìˆ˜ ìˆëŠ” êµ¬ì¡°ê°€ ì•„ë‹ˆì˜€ë‹¤.</li> <li>Node Module <code>events</code> ë¥¼ ì‚¬ìš©í•´ì„œ ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œì¼œ êµ¬í˜„í•˜ê³  ì‹¶ì—ˆì§€ë§Œ React Native í™˜ê²½ì—ì„œëŠ” ê¸°ë³¸ ëª¨ë“ˆì´ ì—†ë‹¤.</li> <li>ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì°¾ì•„ì„œ ì“¸ê¹Œ ê³ ë¯¼ í–ˆì§€ë§Œ ê·¸ëƒ¥ ì»¤ìŠ¤í…€ìœ¼ë¡œ ë§Œë“¤ì–´ ë³´ê¸°ë¡œ ê²°ì •í–ˆë‹¤.</li> <li>RN ì½”ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì œì™¸í•˜ê³ ëŠ” ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©ì„ ìµœì†Œí™”í•˜ê¸° ìœ„í•œ ë…¸ë ¥ì´ë‹¤.. ã…ã…</li></ul> <h3 id="í•´ê²°ë°©ì•ˆ"><a href="#í•´ê²°ë°©ì•ˆ" class="header-anchor">#</a> í•´ê²°ë°©ì•ˆ</h3> <p>ì¼ë‹¨ ê¸°ë³¸ì ì¸ <code>addEventListener</code> ì™€ í´ë¦°ì—…ì„ ìœ„í•œ <code>removeEventListener</code> ë§Œ ëŸ¬í”„í•˜ê²Œ ì‘ì„±í•´ë³´ì•˜ë‹¤.</p> <div class="language-JS line-numbers-mode"><pre class="language-js"><code>type <span class="token function-variable function">Callback</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">args<span class="token operator">?</span><span class="token operator">:</span> unknown</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Promise<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">EventClass</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> Listeners <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token operator">&lt;</span>string<span class="token punctuation">,</span> Callback<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">static</span> <span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> string<span class="token punctuation">,</span> callback<span class="token operator">:</span> Callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>isNameString<span class="token punctuation">,</span> isCallbackFn<span class="token punctuation">,</span> isExists<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token keyword">typeof</span> name <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
      <span class="token keyword">typeof</span> callback <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">,</span>
      EventClass<span class="token punctuation">.</span>Listeners<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isNameString <span class="token operator">||</span> <span class="token operator">!</span>isCallbackFn <span class="token operator">||</span> isExists<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    EventClass<span class="token punctuation">.</span>Listeners<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> <span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> name <span class="token operator">!==</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    EventClass<span class="token punctuation">.</span>Listeners<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> <span class="token function">emit</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> string<span class="token punctuation">,</span> args<span class="token operator">?</span><span class="token operator">:</span> unknown</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> callback <span class="token operator">=</span> EventClass<span class="token punctuation">.</span>Listeners<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> callback <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">callback</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> EventClass<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p>ì´ì œ BottomTabs ì—ì„œ ê°™ì€ íƒ­ì„ ë‘ë²ˆ í´ë¦­í•˜ê²Œ ë˜ëŠ” ê²½ìš° ì´ë²¤íŠ¸ë¥¼ ë°œìƒ ì‹œí‚¨ë‹¤.</p> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Event <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@all-live'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> BottomTabBar<span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span>BottomTabBarProps<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> navigation<span class="token punctuation">,</span> state <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> onTabPressHandler <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token parameter">currIdx<span class="token operator">:</span> number<span class="token punctuation">,</span> idx<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>currIdx <span class="token operator">!==</span> idx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        navigation<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>routes<span class="token punctuation">[</span>idx<span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>currIdx <span class="token operator">===</span> <span class="token constant">BOTTOM_TABS</span><span class="token punctuation">.</span><span class="token constant">HOME_TAB_SCREEN</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ë‘ë²ˆ ì—°ì†ìœ¼ë¡œ ê°™ì€ íƒ­ì„ íƒ­í•˜ëŠ” ê²½ìš° ì´ë²¤íŠ¸ ë°œìƒ</span>
        Event<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'scrollFlatListToTop'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ìƒëµ</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>ë¦¬ìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„  ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•´ì¤€ë‹¤.</p> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Event <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@all-live'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> AllTalentList<span class="token operator">:</span> <span class="token constant">FC</span><span class="token operator">&lt;</span>AllTalentListProps<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token function">memo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> navigation <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> flatListRef <span class="token operator">=</span> useRef<span class="token operator">&lt;</span>FlatList<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> onScrollToTopHandler <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    flatListRef<span class="token punctuation">.</span>current<span class="token operator">?.</span><span class="token function">scrollToOffset</span><span class="token punctuation">(</span><span class="token punctuation">{</span> animated<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> offset<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡</span>
    Event<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scrollFlatListToTop'</span><span class="token punctuation">,</span> onScrollToTopHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// í´ë¦°ì—…</span>
      Event<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'scrollFlatListToTop'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// ìƒëµ</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>ë™ì‘ì´ ì˜ë˜ëŠ”ê±¸ í™•ì¸í•˜ê³  ë‚˜ì„œ íƒ€ì… ì ìš©ì„ ì‹œì‘í–ˆë‹¤.</p> <p>ëª©í‘œëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p> <ol><li><p>ì´ë²¤íŠ¸ ì´ë¦„ ê°•ì œ ì‹œ</p></li> <li><p>ì´ë²¤íŠ¸ ì´ë¦„ì— ë”°ë¼ ì½œë°±ì— ì¸ìê°€ ìˆëŠ” ê²½ìš° ì¸ì íƒ€ì… ì •ì˜</p></li></ol> <p>ì½”ë“œê°€ ê·¸ë ‡ê²Œ ê¸¸ì§€ ì•Šì•„ì„œ ì „ì²´ì½”ë“œë¥¼ ì˜¬ë¦¬ìë©´</p> <div class="language-TS line-numbers-mode"><pre class="language-ts"><code><span class="token comment">// ì—¬ê¸° ì¸í„°í˜ì´ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¸ì íƒ€ì…ì„ ê²°ì • í•´ì¤€ë‹¤. </span>
<span class="token keyword">interface</span> <span class="token class-name">CustomEvents</span> <span class="token punctuation">{</span>
  <span class="token comment">// ì´ë²¤íŠ¸ ì´ë¦„: ì¸ì íƒ€ì…</span>
  scrollFlatListToTop<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Callback<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">args<span class="token operator">:</span> <span class="token constant">T</span> <span class="token operator">|</span> Partial<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token keyword">type</span> EventNames <span class="token operator">=</span> Extract<span class="token operator">&lt;</span><span class="token keyword">keyof</span> CustomEvents<span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">EventClass</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> Listeners <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">static</span> addEventListener<span class="token operator">&lt;</span>EventName <span class="token keyword">extends</span> <span class="token class-name">keyof</span> CustomEvents <span class="token operator">=</span> EventNames<span class="token operator">&gt;</span><span class="token punctuation">(</span>
    name<span class="token operator">:</span> EventName<span class="token punctuation">,</span>
    callback<span class="token operator">:</span> Callback<span class="token operator">&lt;</span>CustomEvents<span class="token punctuation">[</span>EventName<span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>isNameString<span class="token punctuation">,</span> isCallbackFn<span class="token punctuation">,</span> isExists<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token keyword">typeof</span> name <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
      <span class="token keyword">typeof</span> callback <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">,</span>
      EventClass<span class="token punctuation">.</span>Listeners<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isNameString <span class="token operator">||</span> <span class="token operator">!</span>isCallbackFn <span class="token operator">||</span> isExists<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    EventClass<span class="token punctuation">.</span>Listeners<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> <span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token operator">:</span> EventNames</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> name <span class="token operator">!==</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> EventClass<span class="token punctuation">.</span>Listeners<span class="token punctuation">.</span><span class="token keyword">delete</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> <span class="token function">removeAllEventListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    EventClass<span class="token punctuation">.</span>Listeners<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> emit<span class="token operator">&lt;</span>EventName <span class="token keyword">extends</span> <span class="token class-name">keyof</span> CustomEvents <span class="token operator">=</span> EventNames<span class="token operator">&gt;</span><span class="token punctuation">(</span>name<span class="token operator">:</span> EventName<span class="token punctuation">,</span> args<span class="token operator">?</span><span class="token operator">:</span> CustomEvents<span class="token punctuation">[</span>EventName<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> callback <span class="token operator">=</span> EventClass<span class="token punctuation">.</span>Listeners<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> callback <span class="token operator">===</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">callback</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> EventClass<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><p>ì™€ ê°™ì´ í•´ì£¼ì—ˆê³  íƒ€ì… ì ìš©ì´ ì˜ ë˜ê³  ìˆëŠ”ì§€ í™•ì¸ í•´ë³´ì•˜ë‹¤.</p> <p>íƒ€ì…ì´ ì˜ ì ìš© ë˜ëŠ”ì§€ í…ŒìŠ¤íŠ¸ í•˜ê¸° ìœ„í•´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì•„ë˜ì™€ ê°™ì´ ë³€ê²½</p> <div class="language-TS line-numbers-mode"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">CustomEvents</span> <span class="token punctuation">{</span>
  scrollFlatListToTop<span class="token operator">:</span> <span class="token punctuation">{</span> myParam<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>emit í•˜ëŠ” ë¶€ë¶„</p> <div class="center"><img src="/JeongShin_Blog/assets/img/type_test1.d21debdd.png"></div> <p>callback ë“±ë¡í•˜ëŠ” ë¶€ë¶„</p> <div class="center"><img src="/JeongShin_Blog/assets/img/type_test2.d6f309e1.png"></div> <p>ì˜ëœë‹¤ ã…ã…</p> <h3 id="ê²°ê³¼"><a href="#ê²°ê³¼" class="header-anchor">#</a> ê²°ê³¼</h3> <p>ê±°ì˜ ë‡Œí”¼ì…œë¡œ êµ¬í˜„í•´ì„œ ì´ë ‡ê²Œ í•˜ëŠ”ê²Œ ë§ëŠ”ì§€ ëª¨ë¥´ê² ëŠ”ë° ê¸°ëŠ¥ì€ ëŒ€ì¶© í‰ë‚´ë‚¸ê±° ê°™ë‹¤.</p> <div class="center"><img src="/JeongShin_Blog/assets/img/custom_events.gif.7801c768.gif" width="300" height="600"></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/JeongShin_Blog/guide/" class="prev">
        Guide
      </a></span> <span class="next"><a href="/JeongShin_Blog/algorithms/Problems/">
        ì•Œê³ ë¦¬ì¦˜ ì •ë¦¬ ë…¸íŠ¸
      </a>
      â†’
    </span></p></div>  <div><div id="comment"></div></div></main> <footer class="siteFooter">
  COPYRIGHTÂ©2020 ALL RIGHT JeongShin
  <br>sjeong1127@gmail.com . +82-10-2169-2142 .
  <br> <a href="https://www.instagram.com/jeongshin96/" target="_blank">Instagram</a> <a href="https://github.com/JeongShin" target="_blank">GitHub</a></footer></div><div class="global-ui"></div></div>
    <script src="/JeongShin_Blog/assets/js/app.239fa4e5.js" defer></script><script src="/JeongShin_Blog/assets/js/2.f053340d.js" defer></script><script src="/JeongShin_Blog/assets/js/5.6df9c349.js" defer></script>
  </body>
</html>
