<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ì¸ì¸ë‹ˆì•„ Notes | JS Blog</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="JeongShin ì˜ ì½”ë”© ë¸”ë¡œê·¸ ğŸ‘¨ğŸ»â€ğŸ’»">
    <meta name="google-site-verification" content="66JKoxw93huqhAdXO3P0K86NJZne5H-M3302YHcwoWI">
    <link rel="preload" href="/JeongShin_Blog/assets/css/0.styles.263fcb86.css" as="style"><link rel="preload" href="/JeongShin_Blog/assets/js/app.5c32ef0c.js" as="script"><link rel="preload" href="/JeongShin_Blog/assets/js/2.85175d62.js" as="script"><link rel="preload" href="/JeongShin_Blog/assets/js/15.d391d6d6.js" as="script"><link rel="prefetch" href="/JeongShin_Blog/assets/js/10.cf8b9294.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/11.67b30aad.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/12.8ca7ca58.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/13.5144e2bb.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/14.a0c00d8f.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/16.6dd52073.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/17.652d02b5.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/18.0b2d24ac.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/19.19ee29de.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/20.74be0d62.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/21.21ee391c.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/22.e882ed08.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/23.ed259ea4.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/24.a6a7654f.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/25.0ac644d7.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/26.aeb7272f.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/27.7318a296.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/28.9b1c860e.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/29.98ddbb7c.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/3.d30578a7.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/30.d1d1ae88.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/4.b53fab49.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/5.20d5b0d0.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/6.00bcf3c3.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/7.7c37a8ef.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/8.72026c01.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/9.f22f456b.js">
    <link rel="stylesheet" href="/JeongShin_Blog/assets/css/0.styles.263fcb86.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/JeongShin_Blog/" class="home-link router-link-active"><img src="/JeongShin_Blog/images/logo.jpg" alt="JS Blog" class="logo"> <span class="site-name can-hide">JS Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/JeongShin_Blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/JeongShin_Blog/home/" class="nav-link">
  
</a></div><div class="nav-item"><a href="/JeongShin_Blog/aboutme/" class="nav-link">
  About me
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/JeongShin_Blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/JeongShin_Blog/home/" class="nav-link">
  
</a></div><div class="nav-item"><a href="/JeongShin_Blog/aboutme/" class="nav-link">
  About me
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/JeongShin_Blog/guide/" class="sidebar-link">Guide</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/JeongShin_Blog/TIL/" class="sidebar-heading clickable router-link-active open"><span>Today I Learned</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/JeongShin_Blog/TIL/study/" aria-current="page" class="sidebar-link">WEB Basics</a></li><li><a href="/JeongShin_Blog/TIL/study/JavaScript.html" class="sidebar-link">Vanilla JavaScript</a></li><li><a href="/JeongShin_Blog/TIL/study/JavaScript2.html" class="sidebar-link">Vanilla JavaScript II</a></li><li><a href="/JeongShin_Blog/TIL/study/AWS.html" class="sidebar-link">AWS</a></li><li><a href="/JeongShin_Blog/TIL/study/Intern.html" aria-current="page" class="active sidebar-link">ì¸ì¸ë‹ˆì•„ Notes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JeongShin_Blog/TIL/study/Intern.html#project2-notes" class="sidebar-link">Project2 Notes</a></li></ul></li><li><a href="/JeongShin_Blog/TIL/study/db.html" class="sidebar-link">ë°ì´í„°ë² ì´ìŠ¤</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/JeongShin_Blog/algorithms/" class="sidebar-heading clickable"><span>Algorithms</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/JeongShin_Blog/book-review/" class="sidebar-heading clickable"><span>Book-Review</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/JeongShin_Blog/daily/" class="sidebar-heading clickable"><span>Daily</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ì¸ì¸ë‹ˆì•„-notes"><a href="#ì¸ì¸ë‹ˆì•„-notes" class="header-anchor">#</a> ì¸ì¸ë‹ˆì•„ Notes</h1> <h2 id="project2-notes"><a href="#project2-notes" class="header-anchor">#</a> Project2 Notes</h2> <h3 id="has-and-belongs-to-many-vs-has-many-through-ì°¨ì´"><a href="#has-and-belongs-to-many-vs-has-many-through-ì°¨ì´" class="header-anchor">#</a> has_and_belongs_to_many vs has_many through ì°¨ì´</h3> <p>ë ˆì¼ì¦ˆëŠ” ë‹¤ ëŒ€ ë‹¤ ê´€ê³„ë¥¼ ë‹¤ìŒê³¼ ê°™ì€ ë‘ê°€ì§€ ë°©ë²•ìœ¼ë¡œ ì§€ì›í•œë‹¤.</p> <h4 id="has-and-belongs-to-many"><a href="#has-and-belongs-to-many" class="header-anchor">#</a> has_and_belongs_to_many</h4> <p>ëŠ” direct í•œ ë°©ë²•ìœ¼ë¡œ lookup table ì„ ë§Œë“¤ì–´ ì£¼ëŠ”ë° ê°ìì˜ ëª¨ë¸ì„ reference í•œë‹¤.</p> <div class="language-rb line-numbers-mode"><pre class="language-rb"><code><span class="token comment"># Rails 4</span>
rails g migration create_posts_hashtags
<span class="token comment"># Rails 5</span>
rails g migration <span class="token constant">CrateJoinTablePostsHashtags</span> posts hashtags
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ìœ„ì™€ ê°™ì€ ëª…ë ¹ì–´ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì§„í–‰ í•´ì¤€ë’¤</p> <div class="language-rb line-numbers-mode"><pre class="language-rb"><code><span class="token comment"># post.rb</span>
<span class="token keyword">class</span> <span class="token class-name">Post</span> <span class="token operator">&lt;</span> <span class="token constant">ApplicationRecord</span>
    has_and_belongs_to_many <span class="token symbol">:hashtags</span>
<span class="token keyword">end</span>

<span class="token comment"># hashtag.rb</span>
<span class="token keyword">class</span> <span class="token class-name">Hashtag</span> <span class="token operator">&lt;</span> <span class="token constant">ApplicationRecord</span>
    has_and_belongs_to_many <span class="token symbol">:posts</span>
<span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>ê°„ë‹¨í•˜ê²Œ ì—°ê²° í…Œì´ë¸”ë§Œ êµ¬ì„±í•  í•„ìš”ê°€ ìˆëŠ” ê²½ìš°ëŠ” has_and_belongs_to_many ê°€ ì í•©í•˜ë‹¤.</p></blockquote> <h4 id="has-many-through"><a href="#has-many-through" class="header-anchor">#</a> has_many :through</h4> <p>ëŠ” indirect í•œ ë°©ë²•ìœ¼ë¡œ join ëœ ëª¨ë¸ì„ ë§Œë“¤ì–´ ì¤€ë‹¤.</p> <div class="language-rb line-numbers-mode"><pre class="language-rb"><code><span class="token comment"># app/models/post.rb</span>
<span class="token keyword">class</span> <span class="token class-name">Post</span> <span class="token operator">&lt;</span> <span class="token constant">ApplicationRecord</span>
has_many <span class="token symbol">:hashtag_posts</span>
has_many <span class="token symbol">:hashtags</span><span class="token punctuation">,</span> through<span class="token punctuation">:</span> <span class="token symbol">:hashtag_posts</span>

<span class="token comment"># app/models/hashtag.rb</span>
<span class="token keyword">class</span> <span class="token class-name">Hashtag</span> <span class="token operator">&lt;</span> <span class="token constant">ApplicationRecord</span>
has_many <span class="token symbol">:post_hashtags</span>
has_many <span class="token symbol">:posts</span><span class="token punctuation">,</span> through<span class="token punctuation">:</span> <span class="token symbol">:post_hashtags</span>

<span class="token comment"># app/models/post_hashtag.rb</span>
<span class="token keyword">class</span> <span class="token class-name">PostHashtag</span> <span class="token operator">&lt;</span> <span class="token constant">ApplicationRecord</span>
    belongs_to <span class="token symbol">:article</span>
    belongs_to <span class="token symbol">:category</span>

<span class="token comment"># db/schema.rb</span>
<span class="token constant">ActiveRecord</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Schema</span><span class="token punctuation">.</span>define<span class="token punctuation">(</span>version<span class="token punctuation">:</span> <span class="token number">2020</span>_05_19_124121<span class="token punctuation">)</span> <span class="token keyword">do</span>

  create_table <span class="token string">&quot;post_hashtags&quot;</span><span class="token punctuation">,</span> force<span class="token punctuation">:</span> <span class="token symbol">:cascade</span> <span class="token keyword">do</span> <span class="token operator">|</span>t<span class="token operator">|</span>
    t<span class="token punctuation">.</span>integer <span class="token string">&quot;post_id&quot;</span>
    t<span class="token punctuation">.</span>integer <span class="token string">&quot;hashtag_id&quot;</span>
  <span class="token keyword">end</span>

<span class="token comment"># ìƒëµ</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><blockquote><p>Join Model ì— validations, callbacks ë“±ì˜ attribute ê°€ í•„ìš”í•˜ê±°ë‚˜</p> <p>Join Model ì„ independent entity ë¡œ ì‚¬ìš©í•´ì•¼ í•œë‹¤ë©´ has_many :through ê°€ ì í•©í•˜ë‹¤.</p></blockquote> <h3 id="active-admin"><a href="#active-admin" class="header-anchor">#</a> Active Admin</h3> <p>Active Admin í”ŒëŸ¬ê·¸ ì¸ì€ ë ˆì¼ì¦ˆ ê´€ë¦¬ì í˜ì´ì§€ë¥¼ ìƒì„±í•´ì¤€ë‹¤.</p> <div class="language-rb line-numbers-mode"><pre class="language-rb"><code>rails g model item user<span class="token symbol">:references</span> title price<span class="token symbol">:integer</span><span class="token symbol">:index</span> description<span class="token symbol">:text</span> image category<span class="token symbol">:references</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>price ë¡œ ì •ë ¬ì´ ìì£¼ ì¼ì–´ë‚˜ê¸° ë•Œë¬¸ì— index ë¥¼ ì¶”ê°€í•´ì¤Œ. (í•„ë“œ ëª…ë§Œ ì¨ì£¼ëŠ” ê²½ìš° íƒ€ì…ì€ string ìœ¼ë¡œ ìƒì„± ëœë‹¤.)</p> <div class="language-rb line-numbers-mode"><pre class="language-rb"><code>rails g active_admin<span class="token symbol">:resource</span> <span class="token constant">MyModel</span>
<span class="token comment"># app/admin/my_model.rb ë¥¼ ìƒì„±í•œë‹¤</span>
rails db<span class="token symbol">:seed</span>
<span class="token comment"># seeds.rb ì— </span>
<span class="token comment"># movies = Movie.create([{ name: 'Star Wars' }, { name: 'Lord of the Rings' }])</span>
<span class="token comment"># Character.create(name: 'Luke', movie: movies.first)</span>
<span class="token comment"># AdminUser.create!(email: 'admin@example.com', password: 'password', password_confirmation: 'password') </span>
<span class="token comment"># if Rails.env.development?</span>
<span class="token comment"># ê³¼ ê°™ì´ development í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ìš© ë°ì´í„°ë¥¼ ìƒì„±í•´ì¤€ë‹¤. </span>

<span class="token comment"># ì–´ë“œë¯¼ í˜ì´ì§€ì—ì„œëŠ” ëª¨ë“  í•„ë“œ ìˆ˜ì •/ í¸ì§‘ì„ í—ˆìš©í•˜ê¸°</span>
config<span class="token punctuation">.</span>before_action <span class="token keyword">do</span>
   params<span class="token punctuation">.</span>permit<span class="token operator">!</span>
<span class="token keyword">end</span>

<span class="token comment"># ì•¡í‹°ë¸Œ ì–´ë“œë¯¼ì—ì„œ ì œê³µí•˜ëŠ” ì½”ë©˜íŠ¸ ê¸°ëŠ¥ ì´ìš©í•˜ì§€ ì•Šê¸°</span>
config<span class="token punctuation">.</span>comments <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>schema í•„ë“œ ë³€ê²½í•˜ê¸°</p> <p>ê¸°ì¡´ schema.rb íŒŒì¼ì—ì„œ category_id í•„ë“œë¥¼ not null ì„¤ì •ì„ ì—†ì•  ì£¼ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì§„í–‰í•´ì¤Œ.</p> <div class="language-rb line-numbers-mode"><pre class="language-rb"><code><span class="token keyword">class</span> <span class="token class-name">ChangeColumnNull</span> <span class="token operator">&lt;</span> <span class="token constant">ActiveRecord</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Migration</span><span class="token punctuation">[</span><span class="token number">6.0</span><span class="token punctuation">]</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">change</span></span>
    change_column <span class="token symbol">:items</span><span class="token punctuation">,</span> <span class="token symbol">:category_id</span><span class="token punctuation">,</span> <span class="token symbol">:integer</span><span class="token punctuation">,</span> null<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="carrierwave-ğŸ‘‰-íŒŒì¼-ì—…ë¡œë“œ-gem"><a href="#carrierwave-ğŸ‘‰-íŒŒì¼-ì—…ë¡œë“œ-gem" class="header-anchor">#</a> CarrierWave ğŸ‘‰ íŒŒì¼ ì—…ë¡œë“œ Gem</h3> <br> <div class="language-rb line-numbers-mode"><pre class="language-rb"><code><span class="token comment"># ì´ë¯¸ì§€ ì—…ë¡œë” ìƒì„±</span>
rails g uploader <span class="token constant">Image</span> 
<span class="token comment"># app/uploaders/image_uploader.rb ìƒì„±</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>ì´ë¯¸ì§€ ì—…ë¡œë”ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ìƒì„±í•´ì¤€ ë’¤ í•„ìš”í•œ ì´ë¯¸ì§€ ì—…ë¡œë”ê°€ í•„ìš”í•œ model ì— ë‹¤ìŒê³¼ ê°™ì´</p> <div class="language-rb line-numbers-mode"><pre class="language-rb"><code><span class="token comment"># item.rb</span>
<span class="token keyword">class</span> <span class="token class-name">Item</span><span class="token operator">&lt;</span><span class="token constant">ApplicationRecord</span>
    mount_uploader <span class="token symbol">:image</span><span class="token punctuation">,</span> <span class="token constant">ImageUploader</span> <span class="token comment"># ì´ë¯¸ì§€ ì²¨ë¶€ë¥¼ ìœ„í•´ ì¶”ê°€í•´ì¤€ë‹¤.</span>
<span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="active-admin-index-í˜ì´ì§€ì—ì„œ-item-image-ì œê³µí•˜ê¸°"><a href="#active-admin-index-í˜ì´ì§€ì—ì„œ-item-image-ì œê³µí•˜ê¸°" class="header-anchor">#</a> Active Admin index í˜ì´ì§€ì—ì„œ Item Image ì œê³µí•˜ê¸°</h4> <br> <div class="language-rb line-numbers-mode"><pre class="language-rb"><code><span class="token comment"># app/admin/items.rb</span>
  index <span class="token keyword">do</span>
    selectable_column
    id_column
    column <span class="token symbol">:user</span>
    column <span class="token symbol">:category</span>
    column <span class="token symbol">:title</span>
    column <span class="token symbol">:image</span> <span class="token keyword">do</span> <span class="token operator">|</span>obj<span class="token operator">|</span>
      <span class="token comment"># image_tag obj.image.url if obj.image?</span>
      link_to<span class="token punctuation">(</span>image_tag<span class="token punctuation">(</span>obj<span class="token punctuation">.</span>image<span class="token punctuation">.</span>url<span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token string">&quot;width: 100px;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> obj<span class="token punctuation">.</span>image<span class="token punctuation">.</span>url<span class="token punctuation">,</span> target<span class="token punctuation">:</span> <span class="token symbol">:_blank</span><span class="token punctuation">)</span> <span class="token keyword">if</span> obj<span class="token punctuation">.</span>image<span class="token operator">?</span> 
      <span class="token comment"># image_tag ë¼ëŠ” í—¬í¼ ë©”ì†Œë“œ ì´ìš©í•˜ì—¬ ì´ë¯¸ì§€ ì œê³µ</span>
    <span class="token keyword">end</span>
    column <span class="token symbol">:created_at</span>
    actions
  <span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>ì´ì œ active_admin ì— ì¹´í…Œê³ ë¦¬ ëª¨ë¸ ì¶”ê°€</p> <p>rails g active_admin:resource category</p> <div class="language-rb line-numbers-mode"><pre class="language-rb"><code><span class="token comment"># app/admin/users.rb</span>
  index <span class="token keyword">do</span>
    selectable_column
    id_column
    column <span class="token symbol">:email</span>
    column <span class="token symbol">:created_at</span>
    actions
  <span class="token keyword">end</span>

  <span class="token comment"># í•„í„° ëª©ë¡ì„ í•´ë‹¹ í•„ë“œë§Œ ì ìš©</span>
  filter <span class="token symbol">:email</span>
  filter <span class="token symbol">:created_at</span>

  <span class="token comment"># í¼ íƒœê·¸ ì»¤ìŠ¤í„°ë§ˆì´ì§•</span>
  <span class="token comment"># Admin ì´ ì‚¬ìš©ì ê³„ì •ì„ ë§Œë“¤ë•ŒëŠ” ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë§Œ ìš”êµ¬í•œë‹¤ </span>
  form <span class="token keyword">do</span> <span class="token operator">|</span>f<span class="token operator">|</span>
    f<span class="token punctuation">.</span>inputs <span class="token keyword">do</span>
      f<span class="token punctuation">.</span>input <span class="token symbol">:email</span>
      f<span class="token punctuation">.</span>input <span class="token symbol">:password</span>
    <span class="token keyword">end</span>
    f<span class="token punctuation">.</span>actions
  <span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h4 id="navigation-bar-í˜„ì¬-ì¹´í…Œê³ ë¦¬-í´ë˜ìŠ¤-active-ì„¤ì •í•˜ê¸°"><a href="#navigation-bar-í˜„ì¬-ì¹´í…Œê³ ë¦¬-í´ë˜ìŠ¤-active-ì„¤ì •í•˜ê¸°" class="header-anchor">#</a> Navigation Bar í˜„ì¬ ì¹´í…Œê³ ë¦¬ í´ë˜ìŠ¤ Active ì„¤ì •í•˜ê¸°</h4> <br> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>&lt;%= items_path(category_id: c.id) %&gt;<span class="token punctuation">&quot;</span></span> 
<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>nav-link &lt;%= params[:category_id].to_i == c.id ? <span class="token punctuation">&quot;</span></span><span class="token attr-name">active&quot;</span> <span class="token attr-name">:</span> <span class="token attr-name">&quot;&quot;</span> <span class="token attr-name">%</span><span class="token punctuation">&gt;</span></span>&quot;&gt;
  &lt;%= c.title %&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="pagination"><a href="#pagination" class="header-anchor">#</a> Pagination</h3> <p>rails g kaminari:views bootstrap4</p> <p>ì¹´ë¯¸ë‚˜ë¦¬ pagination ë·°ì— ë¶€íŠ¸ìŠ¤íŠ¸ë© ì ìš©</p> <h3 id="ì°œí•˜ê¸°-êµ¬í˜„í•˜ê¸°"><a href="#ì°œí•˜ê¸°-êµ¬í˜„í•˜ê¸°" class="header-anchor">#</a> ì°œí•˜ê¸° êµ¬í˜„í•˜ê¸°</h3> <p>í•˜ë‚˜ì˜ ìœ ì €ëŠ” ì—¬ëŸ¬ê°œì˜ ì•„ì´í…œì„ ì°œí•˜ê³  í•˜ë‚˜ì˜ ì•„ì´í…œì€ ì—¬ëŸ¬ ìœ ì €ê°€ ì°œ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë‹¤ ëŒ€ ë‹¤ ê´€ê³„ë¥¼ ì„¤ì •í•´ì¤˜ì•¼ í•œë‹¤.</p> <div class="language-rb line-numbers-mode"><pre class="language-rb"><code>ğŸ‘‰ ë·° ì„¤ì •

<span class="token comment"># show.html.erb ì—ì„œ </span>
<span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">=</span> link_to <span class="token string">&quot;ì°œí•˜ê¸°&quot;</span><span class="token punctuation">,</span> toggle_item_path<span class="token punctuation">(</span><span class="token variable">@item</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token comment"># í˜„ì¬ ì•„ì´í…œ ê¸°ì¤€ìœ¼ë¡œ item - user ê´€ê³„ ì„¤ì •ì„ ìœ„í•œ route</span>

ğŸ‘‰ ëª¨ë¸ ì„¤ì •

<span class="token comment"># ë‹¤ëŒ€ë‹¤ ì˜ì¡´ì„± â­ï¸</span>
<span class="token comment"># user.rb ì—ì„œ </span>
<span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token operator">&lt;</span> <span class="token constant">ApplicationRecord</span>
  <span class="token comment"># ì°œí•˜ê¸°ëŠ” íšŒì›ì´ ì‚­ì œë˜ê±°ë‚˜ íƒˆí‡´í•˜ë©´ ì§€ì›Œì ¸ë„ â­•ï¸</span>
  has_many <span class="token symbol">:user_items</span><span class="token punctuation">,</span> dependent<span class="token punctuation">:</span> <span class="token symbol">:destroy</span>

  <span class="token comment"># ë“±ë¡ëœ ìƒí’ˆì€ ë“±ë¡í•œ íšŒì›ì´ ì‚­ì œë˜ë”ë¼ë„ ì£¼ë¬¸ì´ë‚˜ ë¦¬ë·° ë“± ë‹¤ë¥¸ ë°ì´í„°ì™€</span>
  <span class="token comment"># ë§ì´ ì—®ì—¬ ìˆê¸° ë•Œë¬¸ì— ì‚­ì œí•˜ì§€ ì•Šê³  foreign_key ë§Œ null ë¡œ ê°±ì‹ </span>
  has_many <span class="token symbol">:items</span><span class="token punctuation">,</span> dependent<span class="token punctuation">:</span> <span class="token symbol">:nullify</span>
  <span class="token comment"># ğŸ‘‰ ìœ ì €ê°€ ì‚­ì œë˜ë©´ ìœ ì € í•„ë“œë“¤ì´ null ì´ ë¨</span>
<span class="token keyword">end</span>

ğŸ‘‰ ë¼ìš°íŠ¸ ì„¤ì • 

<span class="token comment"># routes.rb ì—ì„œ ë¼ìš°íŠ¸ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½í•´ì¤€ë‹¤. </span>
<span class="token comment"># </span>
resources <span class="token symbol">:items</span> <span class="token keyword">do</span>
member <span class="token keyword">do</span>
  get <span class="token symbol">:toggle</span> <span class="token comment"># ì°œí•˜ê¸° get ë©”ì†Œë“œ</span>
<span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><div class="language-rb line-numbers-mode"><pre class="language-rb"><code>ğŸ‘‰ ì»¨íŠ¸ë¡¤ëŸ¬ ì„¤ì •

<span class="token comment"># items_controller.rb ì—ì„œ </span>
<span class="token keyword">class</span> <span class="token class-name">ItemsController</span> <span class="token operator">&lt;</span> <span class="token constant">ApplicationController</span>
<span class="token comment"># ìœ ì € í™•ì¸ì„ ìœ„í•œ before_action ì„ ì ìš©í•´ì£¼ê³  </span>
 before_action <span class="token symbol">:authenticate_user!</span><span class="token punctuation">,</span> only<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token symbol">:toggle</span><span class="token punctuation">]</span>
<span class="token comment"># item ì„ ë¨¼ì € ë¶ˆëŸ¬ ì˜¨ ë’¤ ê´€ê³„ì„¤ì •ì´ ë˜ë¯€ë¡œ</span>
 before_action <span class="token symbol">:load_object</span><span class="token punctuation">,</span> only<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token symbol">:show</span><span class="token punctuation">,</span> <span class="token symbol">:toggle</span><span class="token punctuation">]</span> 

<span class="token keyword">def</span> <span class="token method-definition"><span class="token function">toggle</span></span>
<span class="token keyword">if</span> user_item <span class="token operator">=</span> current_user<span class="token punctuation">.</span>user_items<span class="token punctuation">.</span>where<span class="token punctuation">(</span>item<span class="token punctuation">:</span> <span class="token variable">@item</span><span class="token punctuation">)</span><span class="token punctuation">.</span>first
  <span class="token comment"># ì´ë¯¸ ì°œí•œ ìƒíƒœë¼ë©´ ì°œì„ ì œê±°</span>
  user_item<span class="token punctuation">.</span>destroy
  flash<span class="token punctuation">[</span><span class="token symbol">:notice</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;ì°œì„ ì œê±°í•˜ì˜€ìŠµë‹ˆë‹¤&quot;</span>
<span class="token keyword">else</span>
  <span class="token comment"># ì°œí•œ ì ì´ ì—†ìœ¼ë©´ ì°œí•˜ê¸°</span>
  current_user<span class="token punctuation">.</span>user_items<span class="token punctuation">.</span>where<span class="token punctuation">(</span>item<span class="token punctuation">:</span> <span class="token variable">@item</span><span class="token punctuation">)</span><span class="token punctuation">.</span>create
  flash<span class="token punctuation">[</span><span class="token symbol">:notice</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;ì°œ í•˜ì˜€ìŠµë‹ˆë‹¤&quot;</span>
<span class="token keyword">end</span>
redirect_back fallback_location<span class="token punctuation">:</span> root_path
<span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="ì£¼ë¬¸-êµ¬í˜„"><a href="#ì£¼ë¬¸-êµ¬í˜„" class="header-anchor">#</a> ì£¼ë¬¸ êµ¬í˜„</h3> <p>ì£¼ë¬¸ì—ëŠ” ì—¬ëŸ¬ê°œì˜ ì£¼ë¬¸ í•­ëª©ì´ í¬í•¨ë˜ëŠ” ê²½ìš° (ì¥ë°”êµ¬ë‹ˆ í˜•íƒœ)ê°€ ë§ë‹¤. ë”°ë¼ì„œ</p> <div class="language-rb line-numbers-mode"><pre class="language-rb"><code><span class="token comment"># ì£¼ë¬¸ ì„¤ê³„</span>
rails g model order user<span class="token symbol">:references</span> status<span class="token symbol">:integer</span><span class="token symbol">:index</span> total<span class="token symbol">:integer</span> number<span class="token symbol">:string</span><span class="token symbol">:index</span> zipcode address1 address2
<span class="token comment"># ì£¼ë¬¸ í•­ëª© ì„¤ê³„  </span>
rails g model line_item order<span class="token symbol">:references</span> item<span class="token symbol">:references</span> amount<span class="token symbol">:integer</span> price<span class="token symbol">:integer</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>ì£¼ë¬¸ ìƒíƒœëŠ” cart (ì¥ë°”êµ¬ë‹ˆ), paid (ê²°ì œ ì™„ë£Œ), cancel (ì£¼ë¬¸ ì·¨ì†Œ) ë¥¼ ê°€ì§€ê¸° ë•Œë¬¸ì—</p> <div class="language-rb line-numbers-mode"><pre class="language-rb"><code><span class="token comment"># order.rb ì— ë‹¤ìŒê³¼ ê°™ì´ enum í˜•íƒœë¡œ ê°ê°ì˜ ì‹¬ë³¼ì„ ë„£ì–´ì¤€ë‹¤.</span>
<span class="token keyword">class</span> <span class="token class-name">Order</span> <span class="token operator">&lt;</span> <span class="token constant">ApplicationRecord</span>
  belongs_to <span class="token symbol">:user</span><span class="token punctuation">,</span> optional<span class="token punctuation">:</span> <span class="token boolean">true</span>
  <span class="token comment"># enum [í•„ë“œ] [ì˜µì…˜ë“¤ ì‹¬ë³¼ í˜•íƒœ]</span>
  enum status<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token symbol">:cart</span><span class="token punctuation">,</span> <span class="token symbol">:paid</span><span class="token punctuation">,</span> <span class="token symbol">:canceled</span><span class="token punctuation">]</span>
<span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>ë”°ë¼ì„œ ì£¼ë¬¸ì„ í•  ë•Œ ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ @order ì— ëŒ€í•œ status í•„ë“œ ê°’ì„ ë³€ê²½í•´ì¤€ë‹¤. ì˜ˆë¥¼ë“¤ì–´ ê²°ì œê°€ ì´ë£¨ì–´ì§€ëŠ” ì‹œì  update ì—ì„œ</p> <div class="language-rb line-numbers-mode"><pre class="language-rb"><code><span class="token keyword">class</span> <span class="token class-name">OrderController</span> <span class="token operator">&lt;</span> <span class="token constant">ApplicationController</span>

<span class="token keyword">def</span> <span class="token method-definition"><span class="token function">update</span></span>
<span class="token variable">@order</span><span class="token punctuation">.</span>paid<span class="token operator">!</span> <span class="token comment"># ì—¬ê¸°ì„œ status ë¥¼ paid ì‹¬ë³¼ë¡œ ë°”ê¿”ì¤€ë‹¤. </span>
<span class="token variable">@order</span><span class="token punctuation">.</span>update<span class="token punctuation">(</span>paid_at<span class="token punctuation">:</span> <span class="token builtin">Time</span><span class="token punctuation">.</span>now<span class="token punctuation">)</span>
redirect_to <span class="token variable">@order</span>
<span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ì´í›„ì— Orders í•„ë“œì— ì·¨ì†Œ ì‹œê°, ê²°ì œ ì‹œê°ì„ ì¶”ê°€í•´ì£¼ëŠ”ë°, DB ë§ˆì´ê·¸ë ˆì´ì…˜ì— ë‹¤ìŒê³¼ ê°™ì€ í•­ëª©ì„ ì¶”ê°€í•´ì¤€ë‹¤.</p> <div class="language-rb line-numbers-mode"><pre class="language-rb"><code><span class="token keyword">class</span> <span class="token class-name">AddPaidAtCanceledAtToOrders</span> <span class="token operator">&lt;</span> <span class="token constant">ActiveRecord</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Migration</span><span class="token punctuation">[</span><span class="token number">6.0</span><span class="token punctuation">]</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">change</span></span>
    add_column <span class="token symbol">:orders</span><span class="token punctuation">,</span> <span class="token symbol">:paid_at</span><span class="token punctuation">,</span> <span class="token symbol">:datetime</span>
    add_column <span class="token symbol">:orders</span><span class="token punctuation">,</span> <span class="token symbol">:canceled_at</span><span class="token punctuation">,</span> <span class="token symbol">:datetime</span>
    <span class="token comment"># paid_at, canceled_at ìœ¼ë¡œ ì •ë ¬ì´ ìì£¼ ì¼ì–´ë‚˜ê¸° ë•Œë¬¸ì—</span>
    <span class="token comment"># ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í•´ì£¼ì–´ DB ì •ë ¬ ì†ë„ë¥¼ í–¥ìƒ ì‹œí‚¨ë‹¤</span>
    add_index <span class="token symbol">:orders</span><span class="token punctuation">,</span> <span class="token symbol">:paid_at</span>
    add_index <span class="token symbol">:orders</span><span class="token punctuation">,</span> <span class="token symbol">:canceled_at</span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>ì´ì œ orders_controller ì—ì„œ ìƒˆë¡œìš´ ì£¼ë¬¸ì„ ìƒì„±í•˜ë„ë¡ ì„¤ì •</p> <div class="language-rb line-numbers-mode"><pre class="language-rb"><code><span class="token keyword">class</span> <span class="token class-name">OrdersController</span> <span class="token operator">&lt;</span> <span class="token constant">ApplicationController</span>
  before_action <span class="token symbol">:authenticate_user!</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">new</span></span>
    <span class="token variable">@order</span> <span class="token operator">=</span> get_cart
  <span class="token keyword">end</span>
<span class="token keyword">end</span>

<span class="token comment"># ì´ë•Œ get_cart ë¼ëŠ” ì¼ì¢…ì˜ í—¬í¼ ë©”ì†Œë“œë¥¼ ì •ì˜ í•´ì¤€ë‹¤</span>
<span class="token keyword">class</span> <span class="token class-name">ApplicationController</span> <span class="token operator">&lt;</span> <span class="token constant">ActionController</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">Base</span>
  <span class="token keyword">def</span> <span class="token method-definition"><span class="token function">get_cart</span></span>
    <span class="token comment"># í˜„ì¬ ë¡œê·¸ì¸í•œ ìœ ì €ê°€ ê°€ì§„ ì£¼ë¬¸ ì¤‘ cart ìƒíƒœì˜ ì£¼ë¬¸ì„ í•˜ë‚˜ ì°¾ì•„ì„œ ê°€ì ¸ì˜¤ê°€ë‚˜</span>
    <span class="token comment"># ì—†ìœ¼ë©´ ìƒˆë¡œ ìƒì„±í•œë‹¤</span>
    current_user<span class="token punctuation">.</span>orders<span class="token punctuation">.</span>cart<span class="token punctuation">.</span>first_or_create
  <span class="token keyword">end</span>
<span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="form-íƒœê·¸-ì¹´í…Œê³ ë¦¬-ì„ íƒí•˜ê¸°"><a href="#form-íƒœê·¸-ì¹´í…Œê³ ë¦¬-ì„ íƒí•˜ê¸°" class="header-anchor">#</a> form íƒœê·¸ ì¹´í…Œê³ ë¦¬ ì„ íƒí•˜ê¸°</h4> <p>ë ˆì¼ì¦ˆ form_for ë¥¼ ì´ìš©í•˜ì—¬ í¼ íƒœê·¸ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.</p> <div class="language-erb line-numbers-mode"><pre class="language-erb"><code><span class="token erb language-erb"><span class="token delimiter punctuation">&lt;%=</span> form_for <span class="token variable">@item</span> <span class="token keyword">do</span> <span class="token operator">|</span>f<span class="token operator">|</span> <span class="token delimiter punctuation">%&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>form-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token erb language-erb"><span class="token delimiter punctuation">&lt;%=</span> f<span class="token punctuation">.</span>label <span class="token symbol">:category_id</span> <span class="token delimiter punctuation">%&gt;</span></span>
  <span class="token erb language-erb"><span class="token delimiter punctuation">&lt;%=</span> f<span class="token punctuation">.</span>select <span class="token symbol">:category_id</span><span class="token punctuation">,</span> 
options_for_select<span class="token punctuation">(</span><span class="token constant">Category</span><span class="token punctuation">.</span>order<span class="token punctuation">(</span><span class="token symbol">:position</span><span class="token punctuation">)</span><span class="token punctuation">.</span>map <span class="token punctuation">{</span> <span class="token operator">|</span>c<span class="token operator">|</span> <span class="token punctuation">[</span>c<span class="token punctuation">.</span>title<span class="token punctuation">,</span> c<span class="token punctuation">.</span>id<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
<span class="token keyword">class</span><span class="token punctuation">:</span> <span class="token string">&quot;form-control&quot;</span> <span class="token delimiter punctuation">%&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><br> <div class="language-rb line-numbers-mode"><pre class="language-rb"><code><span class="token number">2.7</span><span class="token number">.0</span> <span class="token punctuation">:</span><span class="token number">022</span> <span class="token operator">&gt;</span> <span class="token constant">Category</span><span class="token punctuation">.</span>order<span class="token punctuation">(</span><span class="token symbol">:position</span><span class="token punctuation">)</span><span class="token punctuation">.</span>map<span class="token punctuation">{</span><span class="token operator">|</span>c<span class="token operator">|</span> <span class="token punctuation">[</span>c<span class="token punctuation">.</span>title<span class="token punctuation">,</span> c<span class="token punctuation">.</span>id<span class="token punctuation">]</span><span class="token punctuation">}</span>
  <span class="token comment"># Category Load (0.4ms)  SELECT &quot;categories&quot;.* FROM &quot;categories&quot; </span>
  <span class="token comment"># ORDER BY &quot;categories&quot;.&quot;position&quot; ASC</span>
 <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;ì‹í’ˆ/ìƒí™œ&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;íŒ¨ì…˜/ë·°í‹°&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;ê°€ì „/ë””ì§€í„¸&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;ì—¬í–‰/ë ˆì €&quot;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/JeongShin_Blog/TIL/study/AWS.html" class="prev">
        AWS
      </a></span> <span class="next"><a href="/JeongShin_Blog/TIL/study/db.html">
        ë°ì´í„°ë² ì´ìŠ¤
      </a>
      â†’
    </span></p></div>  <div><div id="comment"></div></div></main> <footer class="siteFooter">
  COPYRIGHTÂ©2020 ALL RIGHT JeongShin
  <br>sjeong1127@gmail.com . +82-10-2169-2142 .
  <br> <a href="https://www.instagram.com/jeongshin96/" target="_blank">Instagram</a> <a href="https://github.com/JeongShin" target="_blank">GitHub</a></footer></div><div class="global-ui"></div></div>
    <script src="/JeongShin_Blog/assets/js/app.5c32ef0c.js" defer></script><script src="/JeongShin_Blog/assets/js/2.85175d62.js" defer></script><script src="/JeongShin_Blog/assets/js/15.d391d6d6.js" defer></script>
  </body>
</html>
