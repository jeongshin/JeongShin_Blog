<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vanilla JavaScript II | JS Blog</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="JeongShin ì˜ ì½”ë”© ë¸”ë¡œê·¸ ğŸ‘¨ğŸ»â€ğŸ’»">
    <meta name="google-site-verification" content="66JKoxw93huqhAdXO3P0K86NJZne5H-M3302YHcwoWI">
    <link rel="preload" href="/JeongShin_Blog/assets/css/0.styles.263fcb86.css" as="style"><link rel="preload" href="/JeongShin_Blog/assets/js/app.c6555ccb.js" as="script"><link rel="preload" href="/JeongShin_Blog/assets/js/2.85175d62.js" as="script"><link rel="preload" href="/JeongShin_Blog/assets/js/6.f6ae6003.js" as="script"><link rel="prefetch" href="/JeongShin_Blog/assets/js/10.e5cce651.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/11.67b30aad.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/12.8ca7ca58.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/13.5144e2bb.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/14.a0c00d8f.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/15.d391d6d6.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/16.6dd52073.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/17.131beb02.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/18.0b2d24ac.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/19.19ee29de.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/20.74be0d62.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/21.21ee391c.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/22.988d1d3e.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/23.ec720a78.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/24.773937b9.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/25.fa0c84f0.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/26.7082cf8c.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/27.2d2c226a.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/28.bd0e9c22.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/29.a1c26fa9.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/3.d30578a7.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/30.d1d1ae88.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/4.3c7947e6.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/5.20d5b0d0.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/7.2304f65a.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/8.72026c01.js"><link rel="prefetch" href="/JeongShin_Blog/assets/js/9.f22f456b.js">
    <link rel="stylesheet" href="/JeongShin_Blog/assets/css/0.styles.263fcb86.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/JeongShin_Blog/" class="home-link router-link-active"><img src="/JeongShin_Blog/images/logo.jpg" alt="JS Blog" class="logo"> <span class="site-name can-hide">JS Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/JeongShin_Blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/JeongShin_Blog/home/" class="nav-link">
  
</a></div><div class="nav-item"><a href="/JeongShin_Blog/aboutme/" class="nav-link">
  About me
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/JeongShin_Blog/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/JeongShin_Blog/home/" class="nav-link">
  
</a></div><div class="nav-item"><a href="/JeongShin_Blog/aboutme/" class="nav-link">
  About me
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/JeongShin_Blog/guide/" class="sidebar-link">Guide</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/JeongShin_Blog/TIL/" class="sidebar-heading clickable router-link-active open"><span>Today I Learned</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/JeongShin_Blog/TIL/study/" aria-current="page" class="sidebar-link">WEB Basics</a></li><li><a href="/JeongShin_Blog/TIL/study/JavaScript.html" class="sidebar-link">Vanilla JavaScript</a></li><li><a href="/JeongShin_Blog/TIL/study/JavaScript2.html" aria-current="page" class="active sidebar-link">Vanilla JavaScript II</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JeongShin_Blog/TIL/study/JavaScript2.html#step-7" class="sidebar-link">Step 7</a></li><li class="sidebar-sub-header"><a href="/JeongShin_Blog/TIL/study/JavaScript2.html#step-8-ğŸ‘‰-error-handling" class="sidebar-link">Step 8 ğŸ‘‰ Error Handling</a></li></ul></li><li><a href="/JeongShin_Blog/TIL/study/AWS.html" class="sidebar-link">AWS</a></li><li><a href="/JeongShin_Blog/TIL/study/Intern.html" class="sidebar-link">ì¸ì¸ë‹ˆì•„ Notes</a></li><li><a href="/JeongShin_Blog/TIL/study/db.html" class="sidebar-link">ë°ì´í„°ë² ì´ìŠ¤</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/JeongShin_Blog/algorithms/" class="sidebar-heading clickable"><span>Algorithms</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/JeongShin_Blog/book-review/" class="sidebar-heading clickable"><span>Book-Review</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/JeongShin_Blog/daily/" class="sidebar-heading clickable"><span>Daily</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vanilla-javascript-ii"><a href="#vanilla-javascript-ii" class="header-anchor">#</a> Vanilla JavaScript II</h1> <h2 id="step-7"><a href="#step-7" class="header-anchor">#</a> Step 7</h2> <p>ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ Single Threaded ì´ë‹¤. ë”°ë¼ì„œ ë™ì‹œì— ë‘ê°€ì§€ ì¼ì„ í•˜ì§€ëŠ” ëª»í•œë‹¤.</p> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">delayBySeconds</span><span class="token punctuation">(</span><span class="token parameter">sec</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> start <span class="token operator">=</span> now <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>now <span class="token operator">-</span> start <span class="token operator">&lt;</span> <span class="token punctuation">(</span>sec <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    now <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">delayBySeconds</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>ìœ„ì™€ ê°™ì€ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë©”ì¸ ì“°ë ˆë“œëŠ” 5ì´ˆê°„ ë‹¤ë¥¸ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì§€ ëª»í•œë‹¤. ì¦‰ blocking ë˜ì–´ ìˆëŠ” ìƒíƒœì´ë‹¤.</p> <p>ë”°ë¼ì„œ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ê±°ë‚˜ ì–´ë–¤ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ëŠ” í•¨ìˆ˜ ë“±ì€ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼í•œë‹¤.</p> <p>ì½œë°± í•¨ìˆ˜ì— ëŒ€í•´ ì•Œì•„ë³´ê¸° ì „ì— ë¨¼ì € ìë°”ìŠ¤í¬ë¦½íŠ¸ ë©”ëª¨ë¦¬ êµ¬ì¡°ì— ëŒ€í•´ ì•Œì•„ë³´ì.</p> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">LevelTwo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Inside Level Two ! '</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">LevelOne</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">LevelTwo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">LevelOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>ë‹¤ìŒê³¼ ê°™ì´ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ë•Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ call stack ì€ ì•„ë˜ì™€ ê°™ì´ ëœë‹¤.</p> <table><thead><tr><th style="text-align:center;">Tables</th></tr></thead> <tbody><tr><td style="text-align:center;">console.log</td></tr> <tr><td style="text-align:center;">LevelTwo</td></tr> <tr><td style="text-align:center;">LevelOne</td></tr> <tr><td style="text-align:center;">main</td></tr></tbody></table> <h4 id="web-apis"><a href="#web-apis" class="header-anchor">#</a> Web APIs</h4> <p>Web API ëŠ” DOM, Ajax(ë„¤íŠ¸ì›Œí¬ ë¦¬í€˜ìŠ¤íŠ¸), setTimeout() ë“±ì˜ main thread ì—ì„œëŠ” ìˆ˜í–‰í•˜ê¸° ì–´ë ¤ìš´ ì‘ì—…ë“¤ì„ ìˆ˜í–‰ì„ ë•ëŠ” API ì´ë‹¤. Web APIë¥¼ í†µí•˜ì—¬ mutiple thread ë¡œ ì‘ì—…ì´ ê°€ëŠ¥í•˜ë‹¤.</p> <h3 id="js-event-loop"><a href="#js-event-loop" class="header-anchor">#</a> JS Event Loop</h3> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token function">setTimeout</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>ìœ„ì˜ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë©´ Web APIs ë¡œ í•´ë‹¹ í•¨ìˆ˜ ì‘ì—…ì„ í•œë‹¤. ê·¸ëŸ¬ë‹¤ 5ì´ˆê°€ ì§€ë‚˜ë©´ Event Queue ì— funcê°€ push ë˜ê³  Stack ì— ëª¨ë“  í•¨ìˆ˜ê°€ ì¢…ë£Œë˜ë©´ Event Queue ì—ì„œ func í•¨ìˆ˜ë¥¼ ê°€ì ¸ì™€ ìˆ˜í–‰í•œë‹¤.</p> <p><img src="/JeongShin_Blog/assets/img/eventloop.de94c7fe.png" alt="eventloop"></p> <p>console.log í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ê³  ë‚œ ë’¤ ìœ„ì—ì„œë¶€í„° í•˜ë‚˜ì”© ìŠ¤íƒì—ì„œ ì¢…ë£Œë˜ë©° ì—†ì–´ì§„ë‹¤.</p> <h3 id="ë™ê¸°-vs-ë¹„ë™ê¸°-í”„ë¡œê·¸ë˜ë°"><a href="#ë™ê¸°-vs-ë¹„ë™ê¸°-í”„ë¡œê·¸ë˜ë°" class="header-anchor">#</a> ë™ê¸° vs ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°</h3> <p><code>ë™ê¸°ì ì¸ ì½”ë“œ</code>ëŠ” í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ì½”ë“œê°€ ì™„ë£Œëœ í›„ ë‹¤ìŒ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ì¼ë°˜ì ì¸ ë°©ì‹ì´ë‹¤. ë™ê¸°ì  ì½”ë“œëŠ” CPU ê³„ì‚°ì— ì˜í•´ ì¦‰ì‹œ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤.</p> <p><code>ë¹„ë™ê¸°ì ì¸ ì½”ë“œ</code>ëŠ” í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ì½”ë“œì˜ ì™„ë£Œ ì—¬ë¶€ì™€ ë¬´ê´€í•˜ê²Œ ì¦‰ì‹œ ë‹¤ìŒ ì½”ë“œë¡œ ë„˜ì–´ê°„ë‹¤. ì´ëŠ” ì‚¬ìš©ì ìš”ì²­ì— ì˜í•´ íŠ¹ì • ì‹œê°„ì„ ëŒ€ê¸°í•˜ê±°ë‚˜ (setTimeout), ì‚¬ìš©ìì˜ ì§ì ‘ì ì¸ ê°œì…ì´ ìˆì„ë•Œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë„ë¡ ëŒ€ê¸°í•˜ê±°ë‚˜(addEvenListener), ì›¹ ë¸Œë¼ìš°ì €ê°€ ì•„ë‹Œ ë³„ë„ ëŒ€ìƒì— ìš”ì²­í•˜ëŠ”(XMLHttpRequest) <strong>ë³„ë„ì˜ ìš”ì²­, ì‹¤í–‰ ëŒ€ê¸°, ë³´ë¥˜</strong> ë“±ê³¼ ê´€ë ¨ëœ ì½”ë“œì´ë‹¤.</p> <p>ì›¹ì—ì„œ ë¹„ë™ê¸°ì ì¸ ì½”ë“œì˜ ë¹„ì¤‘ì´ ë†’ì•„ì§„ ë§Œí¼ ì½œë°± ì§€ì˜¥ì— ë¹ ì§€ì§€ ì•Šê¸°ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ë°©ì‹ì˜ ì½”ë”©ì´ ë„ì… ë˜ì—ˆë‹¤.</p> <h4 id="es6-promise-generator"><a href="#es6-promise-generator" class="header-anchor">#</a> ES6 Promise, Generator</h4> <p>ES6ì— ë“±ì¥í•œ Promise ë¥¼ ì´ìš©í•œ ë°©ì‹ì€ new ì—°ì‚°ìì™€ í•¨ê»˜ í˜¸ì¶œí•œ Promise ì˜ ì¸ìë¡œ ë„˜ê²¨ì£¼ëŠ” ì½œë°± í•¨ìˆ˜ëŠ” í˜¸ì¶œí•  ë•Œ ë°”ë¡œ ì‹¤í–‰ë˜ì§€ë§Œ <strong>ê·¸ ë‚´ë¶€ì— resolve ë˜ëŠ” reject í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” êµ¬ë¬¸ì´ ìˆì„ ê²½ìš° ë‘˜ ì¤‘ í•˜ë‚˜ê°€ ì‹¤í–‰ë˜ê¸° ì „ê¹Œì§€ëŠ” then ë˜ëŠ” catch êµ¬ë¬¸ìœ¼ë¡œ ë„˜ì–´ê°€ì§€ ì•ŠëŠ”ë‹¤</strong>.</p> <p>ë”°ë¼ì„œ ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œë  ë•Œ ë¹„ë¡œì†Œ resolve ë˜ëŠ” reject ë¥¼ í˜¸ì¶œ í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ë¹„ë™ê¸°ì ì¸ ì‘ì—…ì„ í•  ìˆ˜ ìˆë‹¤.</p> <p>0.5 ì´ˆë§ˆë‹¤ ì»¤í”¼ ëª©ë¡ì„ ìˆ˜ì§‘í•˜ê³  ì¶œë ¥í•˜ëŠ” ì½”ë“œë¥¼ Promiseë¥¼ ì´ìš©í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ ì½”ë”©í•  ìˆ˜ ìˆë‹¤.</p> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">addCoffee</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">prevName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTimeout</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> newName <span class="token operator">=</span> prevName <span class="token operator">?</span> <span class="token punctuation">(</span>prevName <span class="token operator">+</span> <span class="token string">','</span> <span class="token operator">+</span> name<span class="token punctuation">)</span> <span class="token operator">:</span> name<span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span>newName<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>ìˆ˜í–‰ ê²°ê³¼</p> <p><img src="/JeongShin_Blog/assets/img/promise.db6a75ff.png" alt="Promise"></p> <h4 id="es7-async-await"><a href="#es7-async-await" class="header-anchor">#</a> ES7 async, await</h4> <p>ES7 ë¶€í„° ì¶”ê°€ëœ ìƒˆë¡œìš´ ê¸°ëŠ¥ì¸ async, await ëŠ” ë¹„ë™ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•˜ê³ ì í•˜ëŠ” í•¨ìˆ˜ ì•ì— async ë¥¼ í‘œê¸°í•˜ê³  í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì‹¤ì§ˆì ì¸ ë¹„ë™ê¸° ì‘ì—…ì´ í•„ìš”í•œ ìœ„ì¹˜ë§ˆë‹¤ await ë¥¼ í‘œê¸°í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œ ë’¤ì˜ ë‚´ìš©ì„ Promise ë¡œ ìë™ ì „í™˜í•˜ê³ , í•´ë‹¹ ë‚´ìš©ì´ resolve ëœ ì´í›„ ì§„í–‰ ëœë‹¤.</p> <div class="language-JS line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">addCoffee</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">setTimeout</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">coffeeMaker</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> coffeeList <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> <span class="token function-variable function">_addCoffee</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    coffeeList <span class="token operator">+=</span> <span class="token punctuation">(</span>coffeeList <span class="token operator">?</span> <span class="token string">','</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">await</span> <span class="token function">addCoffee</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">_addCoffee</span><span class="token punctuation">(</span><span class="token string">'ì—ìŠ¤í”„ë ˆì†Œ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>coffeeList<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">_addCoffee</span><span class="token punctuation">(</span><span class="token string">'ì•„ë©”ë¦¬ì¹´ë…¸'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>coffeeList<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">_addCoffee</span><span class="token punctuation">(</span><span class="token string">'ì¹´í˜ëª¨ì¹´'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>coffeeList<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">_addCoffee</span><span class="token punctuation">(</span><span class="token string">'ì¹´í˜ë¼ë–¼'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>coffeeList<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>ìˆ˜í–‰ ê²°ê³¼
<img src="/JeongShin_Blog/assets/img/async.9da547a2.png" alt="async example"></p> <h2 id="step-8-ğŸ‘‰-error-handling"><a href="#step-8-ğŸ‘‰-error-handling" class="header-anchor">#</a> Step 8 ğŸ‘‰ Error Handling</h2> <p>ì¶œì²˜ : <a href="https://www.youtube.com/watch?v=LrGvvvmRkCE&amp;ab_channel=ProgramWithErik" target="_blank" rel="noopener noreferrer">YouTube : Program With Erik<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="example-1-promise-catch"><a href="#example-1-promise-catch" class="header-anchor">#</a> Example 1. Promise Catch</h3> <p>Promise ì—ì„œëŠ” ì—ëŸ¬ í•¸ë“¤ë§ì„ ë‹¤ìŒê³¼ ê°™ì´ í•  ìˆ˜ ìˆë‹¤.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 1ì´ˆ ë’¤ì— resolve ë˜ëŠ” promise ë¥¼ ì•„ë˜ì™€ ê°™ì´ ìƒì„± </span>

<span class="token keyword">const</span> myPromise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'resolved!'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

myPromise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// Output : resolved! </span>

<span class="token comment">// í•˜ì§€ë§Œ ë§Œì•½ ì—¬ê¸°ì„œ reject ê°€ ëœë‹¤ë©´</span>

<span class="token keyword">const</span> myPromise2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>
 <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'rejected'</span><span class="token punctuation">)</span> <span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>

myPromise2<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Error : Uncaught (in promise) rejected</span>
myPromise2<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">val</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'err ğŸ‘‰'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// Output : err ğŸ‘‰ rejected</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="example-2-async-await-with-try-catch"><a href="#example-2-async-await-with-try-catch" class="header-anchor">#</a> Example 2. Async / await with try - catch</h3> <p>Promise ë¥¼ ì‚¬ìš©í•˜ë”ë¼ë„ nested.then ì´ ë°˜ë³µë˜ë©´ ê°€ë…ì„±ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆë‹¤.
Async / await ë¥¼ í™œìš©í•  ìˆ˜ ìˆëŠ”ë° ì´ ê²½ìš° ì˜ˆì™¸ì²˜ë¦¬ë¥¼ ì–´ë–»ê²Œ í•˜ëŠ”ì§€ ë³´ì.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/*
* ì˜ˆì œ 1. Promise ê°€ resolve ë˜ëŠ” ê²½ìš°
*/</span>
<span class="token keyword">const</span> myPromise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'resolved!'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">testPromise</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> myPromise<span class="token punctuation">;</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">testPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output : resolved! </span>

<span class="token comment">/*
* ì˜ˆì œ 2. Promise ê°€ reject ë˜ëŠ” ê²½ìš°
*/</span>
<span class="token keyword">const</span> myPromise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'ERROR ğŸ¤¯'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">testPromise</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
   <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> myPromise<span class="token punctuation">;</span>
<span class="token punctuation">}</span> 
<span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// output : 'ERROR ğŸ¤¯'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="example-3-async-await-with-error-handler-factory"><a href="#example-3-async-await-with-error-handler-factory" class="header-anchor">#</a> Example 3. Async / await with Error Handler Factory</h3> <p>JS ì˜ ì¼ê¸‰í•¨ìˆ˜ì˜ íŠ¹ì§•ì„ ì´ìš©í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì´ ì—ëŸ¬ í•¸ë“¤ë§ í•  ìˆ˜ ìˆë‹¤.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> myPromise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'ERROR ğŸ¤¯'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">testPromise</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> myPromise<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// errorHandler ëŠ” í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ë°›ì•„ì˜¨ë‹¤. </span>
<span class="token keyword">const</span> <span class="token function-variable function">errorHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// error ë¥¼ catch í•˜ì—¬ ë°˜í™˜í•œë‹¤. </span>
        <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>params<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// ES6 ë¡œ ê°„ê²°í•˜ê²Œ í‘œí˜„í•˜ë©´</span>
<span class="token keyword">const</span> <span class="token function-variable function">errorHandler2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>params</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> 
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>params<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">'ERROR'</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">errorHandler</span><span class="token punctuation">(</span>testPromise<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h3 id="example-4-custom-decorator"><a href="#example-4-custom-decorator" class="header-anchor">#</a> Example 4. Custom Decorator</h3> <p>Decorator ë””ìì¸ íŒ¨í„´ì€ ë˜í¼ wrapper pattern ì´ë¼ê³ ë„ ë¶ˆë¦¬ëŠ”ë°, ê°ì²´ì˜ íƒ€ì…ê³¼ í˜¸ì¶œ ê°€ëŠ¥í•œ ë©”ì†Œë“œë¥¼ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ ê°ì²´ì— ìƒˆë¡œìš´ ì±…ì„ì„ ì¶”ê°€í•  ë•Œ ì‚¬ìš©í•œë‹¤.</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span>  Catch <span class="token keyword">from</span> <span class="token string">'./decorator'</span>
<span class="token keyword">const</span> myPromise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
 <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'ERROR ğŸ¤¯'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">myClass</span> <span class="token punctuation">{</span>
    @Catch
    <span class="token keyword">async</span> <span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> test <span class="token operator">=</span> <span class="token keyword">await</span> myPromise<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> testClass <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">myClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
testClass<span class="token punctuation">.</span><span class="token function">myFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>ì™€ ê°™ì´ myClass ë¼ëŠ” ë˜í¼ë¥¼ ì •ì˜í•´ì£¼ê³  decorator.js ëŠ” ë‹¤ìŒê³¼ ê°™ì´</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Catch</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> descriptor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> originalMethod <span class="token operator">=</span> descriptor<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    descriptor<span class="token punctuation">.</span><span class="token function-variable function">value</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token function">originalMethod</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
       <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// í•¨ìˆ˜ë¥¼ ë°˜í™˜ í•´ì¤€ë‹¤. </span>
    <span class="token keyword">return</span> descriptor
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Catch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>ì´ì™€ ê°™ì´ ë°ì½”ë ˆì´ë” íŒ¨í„´ì„ ì´ìš©í•´ì„œ ì—ëŸ¬í•¸ë“¤ë§ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/JeongShin_Blog/TIL/study/JavaScript.html" class="prev">
        Vanilla JavaScript
      </a></span> <span class="next"><a href="/JeongShin_Blog/TIL/study/AWS.html">
        AWS
      </a>
      â†’
    </span></p></div>  <div><div id="comment"></div></div></main> <footer class="siteFooter">
  COPYRIGHTÂ©2020 ALL RIGHT JeongShin
  <br>sjeong1127@gmail.com . +82-10-2169-2142 .
  <br> <a href="https://www.instagram.com/jeongshin96/" target="_blank">Instagram</a> <a href="https://github.com/JeongShin" target="_blank">GitHub</a></footer></div><div class="global-ui"></div></div>
    <script src="/JeongShin_Blog/assets/js/app.c6555ccb.js" defer></script><script src="/JeongShin_Blog/assets/js/2.85175d62.js" defer></script><script src="/JeongShin_Blog/assets/js/6.f6ae6003.js" defer></script>
  </body>
</html>
